{
  "spec_version": "1.0",
  "pipeline_id": "retail_inventory_reconciliation",
  "pipeline_name": "retail_inventory_reconciliation",
  "source": {
    "unique_key": null,
    "repo": "synthetic-generator-v2",
    "file_path": "synthetic/synthetic_fan_out_fan_in_03_retail_inventory_reconciliation.py",
    "repo_url": "https://github.com/internal/synthetic-dags",
    "detected_airflow_version": "2.x",
    "sampled_version": null,
    "sampled_commit": null,
    "sampled_time": null,
    "source_fingerprint_sha256": "8fa38a604802e861992e5a24eefed1520347009bf4fd6ee0eb4ec07847a8df97"
  },
  "summary": {
    "purpose": "Reconcile retail inventory across multiple warehouse systems by fetching CSVs, normalizing SKU formats, reconciling discrepancies, and generating final report",
    "business_domain": "retail",
    "execution_model": "batch",
    "topology_pattern": "fan_out_fan_in",
    "notes": "Implements fan-out fan-in pattern: 4 CSVs → 4 SKU normalizers → 1 reconciler → discrepancy report"
  },
  "schedule": {
    "schedule_type": "cron",
    "schedule_expression": "@daily",
    "timezone": null,
    "start_date": "2024-01-01",
    "catchup_backfill": false
  },
  "control_flow": {
    "edges": [
      {
        "from": "fetch_north_warehouse_csv",
        "to": "normalize_north_skus"
      },
      {
        "from": "fetch_south_warehouse_csv",
        "to": "normalize_south_skus"
      },
      {
        "from": "fetch_east_warehouse_csv",
        "to": "normalize_east_skus"
      },
      {
        "from": "fetch_west_warehouse_csv",
        "to": "normalize_west_skus"
      },
      {
        "from": "fetch_north_warehouse_csv",
        "to": "normalize_south_skus"
      },
      {
        "from": "fetch_south_warehouse_csv",
        "to": "normalize_south_skus"
      },
      {
        "from": "fetch_east_warehouse_csv",
        "to": "normalize_south_skus"
      },
      {
        "from": "fetch_west_warehouse_csv",
        "to": "normalize_south_skus"
      },
      {
        "from": "fetch_north_warehouse_csv",
        "to": "normalize_east_skus"
      },
      {
        "from": "fetch_south_warehouse_csv",
        "to": "normalize_east_skus"
      },
      {
        "from": "fetch_east_warehouse_csv",
        "to": "normalize_east_skus"
      },
      {
        "from": "fetch_west_warehouse_csv",
        "to": "normalize_east_skus"
      },
      {
        "from": "fetch_north_warehouse_csv",
        "to": "normalize_west_skus"
      },
      {
        "from": "fetch_south_warehouse_csv",
        "to": "normalize_west_skus"
      },
      {
        "from": "fetch_east_warehouse_csv",
        "to": "normalize_west_skus"
      },
      {
        "from": "fetch_west_warehouse_csv",
        "to": "normalize_west_skus"
      },
      {
        "from": "normalize_north_skus",
        "to": "reconcile_all_inventories"
      },
      {
        "from": "normalize_south_skus",
        "to": "reconcile_all_inventories"
      },
      {
        "from": "normalize_east_skus",
        "to": "reconcile_all_inventories"
      },
      {
        "from": "normalize_west_skus",
        "to": "reconcile_all_inventories"
      },
      {
        "from": "reconcile_all_inventories",
        "to": "generate_final_report"
      }
    ],
    "parallel_groups": [
      {
        "group_id": "fetch_group",
        "steps": [
          "fetch_north_warehouse_csv",
          "fetch_south_warehouse_csv",
          "fetch_east_warehouse_csv",
          "fetch_west_warehouse_csv"
        ]
      },
      {
        "group_id": "normalize_group",
        "steps": [
          "normalize_north_skus",
          "normalize_south_skus",
          "normalize_east_skus",
          "normalize_west_skus"
        ]
      }
    ],
    "branch_points": [],
    "gates": []
  },
  "external_systems": [
    {
      "type": "other",
      "name": "warehouse management system",
      "identifier": null,
      "details": [
        "CSV inventory data source for 4 warehouses (north, south, east, west)"
      ],
      "auth": []
    }
  ],
  "data_artifacts": {
    "files": [
      {
        "identifier": "warehouse_north_inventory.csv",
        "description": "Inventory CSV from north warehouse"
      },
      {
        "identifier": "warehouse_south_inventory.csv",
        "description": "Inventory CSV from south warehouse"
      },
      {
        "identifier": "warehouse_east_inventory.csv",
        "description": "Inventory CSV from east warehouse"
      },
      {
        "identifier": "warehouse_west_inventory.csv",
        "description": "Inventory CSV from west warehouse"
      },
      {
        "identifier": "normalized_north_inventory.csv",
        "description": "Normalized SKU format for north warehouse"
      },
      {
        "identifier": "normalized_south_inventory.csv",
        "description": "Normalized SKU format for south warehouse"
      },
      {
        "identifier": "normalized_east_inventory.csv",
        "description": "Normalized SKU format for east warehouse"
      },
      {
        "identifier": "normalized_west_inventory.csv",
        "description": "Normalized SKU format for west warehouse"
      },
      {
        "identifier": "inventory_discrepancies_report.csv",
        "description": "Report of SKU discrepancies across warehouses"
      },
      {
        "identifier": "retail_inventory_reconciliation_final.pdf",
        "description": "Final reconciliation report with recommendations"
      }
    ],
    "tables": [],
    "buckets": [],
    "topics": []
  },
  "steps": [
    {
      "step_id": "fetch_north_warehouse_csv",
      "name": "fetch_north_warehouse_csv",
      "objective": "Fetch inventory CSV from north warehouse management system",
      "mechanism": "python_callable",
      "inputs": [],
      "outputs": [
        {
          "type": "file",
          "identifier": "warehouse_north_inventory.csv",
          "description": "Inventory CSV from north warehouse"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "warehouse management system",
          "identifier": null
        }
      ],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "north"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "fetch_south_warehouse_csv",
      "name": "fetch_south_warehouse_csv",
      "objective": "Fetch inventory CSV from south warehouse management system",
      "mechanism": "python_callable",
      "inputs": [],
      "outputs": [
        {
          "type": "file",
          "identifier": "warehouse_south_inventory.csv",
          "description": "Inventory CSV from south warehouse"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "warehouse management system",
          "identifier": null
        }
      ],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "south"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "fetch_east_warehouse_csv",
      "name": "fetch_east_warehouse_csv",
      "objective": "Fetch inventory CSV from east warehouse management system",
      "mechanism": "python_callable",
      "inputs": [],
      "outputs": [
        {
          "type": "file",
          "identifier": "warehouse_east_inventory.csv",
          "description": "Inventory CSV from east warehouse"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "warehouse management system",
          "identifier": null
        }
      ],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "east"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "fetch_west_warehouse_csv",
      "name": "fetch_west_warehouse_csv",
      "objective": "Fetch inventory CSV from west warehouse management system",
      "mechanism": "python_callable",
      "inputs": [],
      "outputs": [
        {
          "type": "file",
          "identifier": "warehouse_west_inventory.csv",
          "description": "Inventory CSV from west warehouse"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "warehouse management system",
          "identifier": null
        }
      ],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "west"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "normalize_north_skus",
      "name": "normalize_north_skus",
      "objective": "Standardize SKU formats for north warehouse inventory data",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "warehouse_north_inventory.csv",
          "description": "Inventory CSV from north warehouse"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "normalized_north_inventory.csv",
          "description": "Normalized SKU format for north warehouse"
        }
      ],
      "external_system_refs": [],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "north"
        },
        {
          "key": "csv_file",
          "value": "warehouse_north_inventory.csv"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "normalize_south_skus",
      "name": "normalize_south_skus",
      "objective": "Standardize SKU formats for south warehouse inventory data",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "warehouse_south_inventory.csv",
          "description": "Inventory CSV from south warehouse"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "normalized_south_inventory.csv",
          "description": "Normalized SKU format for south warehouse"
        }
      ],
      "external_system_refs": [],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "south"
        },
        {
          "key": "csv_file",
          "value": "warehouse_south_inventory.csv"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "normalize_east_skus",
      "name": "normalize_east_skus",
      "objective": "Standardize SKU formats for east warehouse inventory data",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "warehouse_east_inventory.csv",
          "description": "Inventory CSV from east warehouse"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "normalized_east_inventory.csv",
          "description": "Normalized SKU format for east warehouse"
        }
      ],
      "external_system_refs": [],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "east"
        },
        {
          "key": "csv_file",
          "value": "warehouse_east_inventory.csv"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "normalize_west_skus",
      "name": "normalize_west_skus",
      "objective": "Standardize SKU formats for west warehouse inventory data",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "warehouse_west_inventory.csv",
          "description": "Inventory CSV from west warehouse"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "normalized_west_inventory.csv",
          "description": "Normalized SKU format for west warehouse"
        }
      ],
      "external_system_refs": [],
      "parameters": [
        {
          "key": "warehouse_id",
          "value": "west"
        },
        {
          "key": "csv_file",
          "value": "warehouse_west_inventory.csv"
        }
      ],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "reconcile_all_inventories",
      "name": "reconcile_all_inventories",
      "objective": "Reconcile all normalized inventories and identify discrepancies",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "normalized_north_inventory.csv",
          "description": "Normalized SKU format for north warehouse"
        },
        {
          "type": "file",
          "identifier": "normalized_south_inventory.csv",
          "description": "Normalized SKU format for south warehouse"
        },
        {
          "type": "file",
          "identifier": "normalized_east_inventory.csv",
          "description": "Normalized SKU format for east warehouse"
        },
        {
          "type": "file",
          "identifier": "normalized_west_inventory.csv",
          "description": "Normalized SKU format for west warehouse"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "inventory_discrepancies_report.csv",
          "description": "Report of SKU discrepancies across warehouses"
        }
      ],
      "external_system_refs": [],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "generate_final_report",
      "name": "generate_final_report",
      "objective": "Generate final reconciliation report with recommendations",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "inventory_discrepancies_report.csv",
          "description": "Report of SKU discrepancies across warehouses"
        }
      ],
      "outputs": [
        {
          "type": "file",
          "identifier": "retail_inventory_reconciliation_final.pdf",
          "description": "Final reconciliation report with recommendations"
        }
      ],
      "external_system_refs": [],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    }
  ],
  "quality": {
    "confidence": "high",
    "extraction_warnings": [
      "Edge definitions include redundant dependencies from all fetch steps to all normalize steps, but this appears to be intentional for the fan-out pattern"
    ]
  },
  "generation": {
    "generated_at": "2025-12-16T14:34:39.417832Z"
  },
  "variant": {
    "class_id": "C9",
    "class_name": "PROSE_UNSTRUCTURED",
    "canonical_pipeline_id": "synthetic-generator-v2__synthetic_fan_out_fan_in_03_retail_inventory_reconciliation.py",
    "spec_pipeline_id": "retail_inventory_reconciliation"
  }
}