Pipeline Summary:
- Pipeline ID: bcgov__medis-scheduler__PCD-ETL.py
- Name: pcd-etl
- Purpose: ETL pipeline for PCD data with multiple HTTP API calls and Kubernetes job, ending with email notification
- Execution model: batch
- Topology pattern: fan_out_fan_in
- Business domain: healthcare
- Notes: Pipeline extracts PCD data via HTTP APIs, processes with Kubernetes job, and sends email notifications on success/failure

External Systems:
- http_api: PCD API endpoints
- cloud_service: Kubernetes
- email: Email service
- filesystem: PCD shared folder
- ftp: PCD SFTP folder

Pipeline Steps:
- CHC_Budget — CHC_Budget
  - Objective: Extract CHC budget data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_chc_budget_url}}
- CHC_Financial_reporting — CHC_Financial_reporting
  - Objective: Extract CHC financial reporting data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_chc_financial_reporting_url}}
- CHC_Primary_Care_Patient_Services — CHC_Primary_Care_Patient_Services
  - Objective: Extract CHC primary care patient services data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_chc_pcps_url}}
- Check_PCD_SFTP_Folder — Check_PCD_SFTP_Folder
  - Objective: Check PCD SFTP folder for data availability
  - Mechanism: kubernetes_job
  - Step parameters:
    - job_template_file={{var.value.pcd_emtysftp_job}}
- Check_PCD_Shared_Folder — Check_PCD_Shared_Folder
  - Objective: Check PCD shared folder for data availability
  - Mechanism: kubernetes_job
  - Step parameters:
    - job_template_file={{var.value.pcd_emtydir_job}}
- Decision_Log — Decision_Log
  - Objective: Extract decision log data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_decision_log_url}}
- ETL_Notification — ETL_Notification
  - Objective: Send email notification based on pipeline execution results
  - Mechanism: notification
- Financial_Expense — Financial_Expense
  - Objective: Extract financial expense data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_financial_expense_url}}
- Fiscal_Year_Reporting_Dates — Fiscal_Year_Reporting_Dates
  - Objective: Extract fiscal year reporting dates from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_fiscal_year_reporting_dates_url}}
- HA_Hierarchy — HA_Hierarchy
  - Objective: Extract health authority hierarchy data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_ha_hierarchy_url}}
- HR_Records — HR_Records
  - Objective: Extract HR records data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_hr_records_url}}
- NPPCC_Budget — NPPCC_Budget
  - Objective: Extract NPPCC budget data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_nppcc_budget_url}}
- NPPCC_Financial_Reporting — NPPCC_Financial_Reporting
  - Objective: Extract NPPCC financial reporting data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_nppcc_financial_reporting_url}}
- PCD_file_upload — PCD_file_upload
  - Objective: Upload and process PCD files using Kubernetes job
  - Mechanism: kubernetes_job
  - Step parameters:
    - job_template_file={{var.value.pcd_job}}
- PCN_Budget — PCN_Budget
  - Objective: Extract PCN budget data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_pcn_budget_url}}
- PCN_Financial_Reporting — PCN_Financial_Reporting
  - Objective: Extract PCN financial reporting data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_pcn_financial_reporting_url}}
- Practitioner_Role_Mapping — Practitioner_Role_Mapping
  - Objective: Extract practitioner role mapping data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_practitioner_role_mapping_url}}
- Provincial_Risk_Tracking — Provincial_Risk_Tracking
  - Objective: Extract provincial risk tracking data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_provincial_risk_tracking_url}}
- Start_PCD_Extract_1 — Start_PCD_Extract_1
  - Objective: Start first phase of PCD data extraction
  - Mechanism: unknown
- Start_PCD_Extract_2 — Start_PCD_Extract_2
  - Objective: Start second phase of PCD data extraction
  - Mechanism: unknown
- Status_Tracker — Status_Tracker
  - Objective: Extract status tracker data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_status_tracker_url}}
- UPCC_Financial_Reportingr — UPCC_Financial_Reportingr
  - Objective: Extract UPCC financial reporting data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_upcc_financial_reporting_url}}
- UPCC_Primary_Care_Patient_Services — UPCC_Primary_Care_Patient_Services
  - Objective: Extract UPCC primary care patient services data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_upcc_pcps_url}}
- UPPC_Budget — UPPC_Budget
  - Objective: Extract UPCC budget data from PCD API
  - Mechanism: http_request
  - Step parameters:
    - endpoint={{var.value.pcd_upcc_budget_url}}

Scheduling:
- Schedule type: unknown
- Start date: 2021-01-01T00:00:00Z
- Catchup/backfill: False
