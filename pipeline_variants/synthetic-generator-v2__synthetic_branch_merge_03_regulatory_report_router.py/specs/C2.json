{
  "spec_version": "1.0",
  "pipeline_id": "regulatory_report_router",
  "pipeline_name": "regulatory_report_router",
  "source": {
    "unique_key": null,
    "repo": "synthetic-generator-v2",
    "file_path": "synthetic/synthetic_branch_merge_03_regulatory_report_router.py",
    "repo_url": "https://github.com/internal/synthetic-dags",
    "detected_airflow_version": "2.x",
    "sampled_version": null,
    "sampled_commit": null,
    "sampled_time": null,
    "source_fingerprint_sha256": "3840e1c780dcf8e270e3de7fbede7e9855e624269063c16560bb5830705af968"
  },
  "summary": {
    "purpose": "Processes financial transaction data and routes it to appropriate regulatory reporting systems based on account type (FATCA for international accounts, IRS for domestic accounts), then archives all reports",
    "business_domain": "finance",
    "execution_model": "batch",
    "topology_pattern": "branch_merge",
    "notes": "Data Flow: CSV → Account_Check → [International → FATCA | Domestic → IRS] → Archive"
  },
  "schedule": {
    "schedule_type": "cron",
    "schedule_expression": "@daily",
    "timezone": null,
    "start_date": "2024-01-01",
    "catchup_backfill": false
  },
  "control_flow": {
    "edges": [],
    "parallel_groups": [],
    "branch_points": [],
    "gates": []
  },
  "external_systems": [
    {
      "type": "filesystem",
      "name": "CSV file storage",
      "identifier": null,
      "details": [
        "CSV file with financial transactions"
      ],
      "auth": []
    },
    {
      "type": "other",
      "name": "FATCA regulatory system",
      "identifier": null,
      "details": [
        "FATCA reporting for international accounts"
      ],
      "auth": []
    },
    {
      "type": "other",
      "name": "IRS regulatory system",
      "identifier": null,
      "details": [
        "IRS reporting for domestic accounts"
      ],
      "auth": []
    },
    {
      "type": "object_storage",
      "name": "Secure archive location",
      "identifier": null,
      "details": [
        "Compressed report storage"
      ],
      "auth": []
    }
  ],
  "data_artifacts": {
    "files": [
      {
        "identifier": "financial transaction CSV file",
        "description": "CSV with transaction_id, account_type, amount, currency"
      }
    ],
    "tables": [],
    "buckets": [],
    "topics": []
  },
  "steps": [
    {
      "step_id": "read_csv",
      "name": "read_csv",
      "objective": "Read CSV file with financial transactions",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "file",
          "identifier": "financial transaction CSV file",
          "description": "CSV with transaction data"
        }
      ],
      "outputs": [
        {
          "type": "data",
          "identifier": "csv_data_processed",
          "description": "Processed transaction data"
        }
      ],
      "external_system_refs": [
        {
          "type": "filesystem",
          "name": "CSV file storage",
          "identifier": null
        }
      ],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "account_check",
      "name": "account_check",
      "objective": "Determine routing based on account type",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "data",
          "identifier": "csv_data_processed",
          "description": "Processed transaction data from previous step"
        }
      ],
      "outputs": [
        {
          "type": "decision",
          "identifier": "routing_decision",
          "description": "Routing decision (international/domestic)"
        }
      ],
      "external_system_refs": [],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "route_to_fatca",
      "name": "route_to_fatca",
      "objective": "Process FATCA regulatory reporting for international accounts",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "data",
          "identifier": "csv_data_processed",
          "description": "Processed transaction data for international accounts"
        }
      ],
      "outputs": [
        {
          "type": "report",
          "identifier": "fatca_report_generated",
          "description": "FATCA XML report"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "FATCA regulatory system",
          "identifier": null
        }
      ],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "route_to_irs",
      "name": "route_to_irs",
      "objective": "Process IRS regulatory reporting for domestic accounts",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "data",
          "identifier": "csv_data_processed",
          "description": "Processed transaction data for domestic accounts"
        }
      ],
      "outputs": [
        {
          "type": "report",
          "identifier": "irs_report_generated",
          "description": "IRS Form 1099 data"
        }
      ],
      "external_system_refs": [
        {
          "type": "other",
          "name": "IRS regulatory system",
          "identifier": null
        }
      ],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    },
    {
      "step_id": "archive_reports",
      "name": "archive_reports",
      "objective": "Archive all regulatory reports",
      "mechanism": "python_callable",
      "inputs": [
        {
          "type": "report",
          "identifier": "fatca_report_generated",
          "description": "FATCA report"
        },
        {
          "type": "report",
          "identifier": "irs_report_generated",
          "description": "IRS report"
        }
      ],
      "outputs": [
        {
          "type": "archive",
          "identifier": "reports_archived",
          "description": "Compressed archive of all reports"
        }
      ],
      "external_system_refs": [
        {
          "type": "object_storage",
          "name": "Secure archive location",
          "identifier": null
        }
      ],
      "parameters": [],
      "env_infra": {
        "env_vars": [],
        "mounts": [],
        "network": null,
        "other": []
      },
      "failure_handling": {
        "retries": 2,
        "retry_delay": "PT5M",
        "timeout": null,
        "alerts": [],
        "idempotency": []
      }
    }
  ],
  "quality": {
    "confidence": "high",
    "extraction_warnings": [
      "Branch condition logic uses random selection for demonstration; actual implementation would analyze actual data",
      "Specific file paths and system identifiers not provided in code"
    ]
  },
  "generation": {
    "generated_at": "2025-12-16T14:27:11.023473Z"
  },
  "variant": {
    "class_id": "C2",
    "class_name": "NO_CONTROL_FLOW",
    "canonical_pipeline_id": "synthetic-generator-v2__synthetic_branch_merge_03_regulatory_report_router.py",
    "spec_pipeline_id": "regulatory_report_router"
  }
}